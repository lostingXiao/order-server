//新建订单数据库
CREATE DATABASE orders_db;
USE orders_db;

//新建菜单表

CREATE TABLE menu (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    path VARCHAR(255) DEFAULT NULL,
    parent_id INT DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

INSERT INTO menu (name, path, parent_id)
VALUES ('主页', '/home', NULL),
       ('产品', '/products', NULL),
       ('关于我们', '/about-us', NULL),
       ('联系我们', '/contact-us', NULL),
       ('最新产品', '/products/latest', 2),
       ('特色产品', '/products/featured', 2),
       ('公司介绍', '/about-us/company', 3),
       ('联系方式', '/contact-us/details', 3);

DELETE FROM table_name WHERE id = 10 OR parent_id = 10;

//新建权限表

CREATE TABLE auth (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    code VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);

username, password, phone, role_id, shop_id

CREATE TABLE user (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    phone VARCHAR(20) NOT NULL UNIQUE,
    role_id INT NOT NULL,
    shop_id INT DEFAULT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    FOREIGN KEY (role_id) REFERENCES role(id),
    FOREIGN KEY (shop_id) REFERENCES shop(id)
);

mysqldump -u root -p orders_db > db.sql

mysql -u root -p orders_db < db.sql